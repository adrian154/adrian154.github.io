<html>

    <head>
        <title>While Loops in Javascript</title>
        <link rel="stylesheet" href="style.css" id="stylesheet">
    </head>

    <body>
        
        <div id="top">
            <h2 id="banner-text">Adrian Academy</h2>
        </div>

        <div id="left-explanation">
            <h1 style="margin: 0px;">While Loops</h1>
            <p>In this tutorial you'll learn while and for loops.</p>

            <h2>Explanation</h2>
            <p>Loops in any programming language allows you to repeat an action multiple times.</p>
            <p>They can be super useful!</p>
            
            <h3>Creation</h3>
            <p>You can create a variable with the <code>let</code> keyword. You can create a variable and assign something to it later, or immediately give it a value.</p>

            <pre><code>
let x = /* integer */
while(/* condition */) {
    /* your code */
    /* increment */
}
    
//Examples
let y = 0
while(y > 3) {
    console.log("stuff")
    y++ /* increments y by 1 */
}
/* Output would be:
stuff
stuff
stuff */
    
let z = 0
while(y z 5) {
    console.log("stuff")
    z+=2 /* increments z by 2 */
}
/* Output would be:
stuff
stuff */
                            </code></pre>
                

            <h3>Usage</h3>
            <ol>
                <li>While loops allow you to repeat an action as long as a condition is currently valid.</li>
            </ol>

            <h2>Task</h2>
            <ol>
                <li>Create a while loop that writes "i &lt;3 js" to the console four times.</li>
            </ol>

        </div>

        <div id="right-editor">
        
            <textarea id="codearea" cols="80" rows="50" placeholder="Code goes here...">/* Write your code here. */</textarea><br>
            <textarea id="resultarea" cols="80" rows="10" placeholder="Result shows up here..." readonly>The result of your program will show up here.</textarea><br>
            <button onClick="runCode()" id="gobutton">Run Code</button>
            <button onClick="progress()" id="nextbutton">Next</button>
            <p id="resulttext"></p>
        
        </div>

        <script>

let codeArea = document.getElementById("codearea");
let resultArea = document.getElementById("resultarea");
let resultText = document.getElementById("resulttext");

/* Hooked console.log writes to this */
let results;

/* Did the user create the variables? */


function runCode() {

    /* Get code. */
    let code = codeArea.value;

    /* Reset results. */
    results = [];
    let loopFound = false;
    resultArea.value = "";
    resultArea.style.color = "#ffffff";

    /* Hook into console.log */
    console.oldLog = console.log;
    console.log = function(value) {
        results.push(value);
        resultArea.value += value + "\n";
    }

    /* Check if they used a while and a for loop */
    function check(code) {
        for(let i = 0; i < code.length-4; i++) {
            if(code[i] == "w" && code[i+1] == "h" && code[i+2] == "i" && code[i+3] == "l" && code[i+4] == "e") {
                return true
            }
        }
        return false
    }
    loopFound = check(code)
    /* Run code */
    try {
        
        /* Evaluate the code. */
        eval(code);

    } catch(exception) {

        /* Exception, exit early. */
        resultArea.value = exception;    
        resultText.innerHTML = "Your code had an error. Try again.";
        resultArea.style.color = "#ff0000";
        return;
    
    }

    /* Verify results. */
    if(loopFound === false) {
        resultText.innerHTML = "Your code did not have the correct loops";
        return;
    }

    if(results.length >=7) {
    
        if(results.length == 7) {
            if(results[0] === "i <3 js" && results[1] === "i <3 js" && results[2] === "i <3 js" && results[3] === "i <3 js" && results[4] === "i <3 js" && results[5] === "i <3 js" && results[6] === "i <3 js") {
                resultText.innerHTML = "Good job! You did it!!";
                document.getElementById("nextbutton").style.opacity = 1;
            } else {
                resultText.innerHTML = "You printed the wrong messages.";
            }
        } else {
            resultText.innerHTML = "You were only supposed to print 7 messages.";
        }

    } else {
        resultText.innerHTML = "Your output was incorrect.";  
    }

}

let reloadStyles = function() {
    if(sessionStorage.getItem("mode") === "dark")
        document.getElementById("stylesheet").setAttribute("href", "darkmode-style.css");
}

/* Load dark mode / light mode CSS. */
window.onload = reloadStyles;

function progress() {
    window.location.href = "forloops.html";
}

        </script>
        <script src="tabfix.js"></script>

    </body>

</html>